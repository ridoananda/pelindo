import{q as w,j as e,a as g,f as N}from"./app-CoinIA6E.js";import{M as b}from"./MainLayout-BYuyV-GX.js";import{P as y}from"./PageHeader-Rbg_npNH.js";import{T as k}from"./Table-DoG381uc.js";import{B as o}from"./Button-D6nxZPqu.js";function q({ships:l,reportType:s,reportDate:d,reportPeriod:i,managerName:c}){const{url:h}=w(),m=[{header:"Nama Kapal",accessor:"name"},{header:"Tipe",accessor:"type"},{header:"Kargo",accessor:"cargo"},{header:"Waktu Keberangkatan",accessor:"departure_time"},{header:"Waktu Kedatangan",accessor:"arrival_time"},{header:"Status",accessor:"status"}],p=()=>{window.print()},t=f=>{const a=new URL(window.location.origin+h);a.searchParams.set("format",f);const u=a.pathname+a.search;N.get(u,{},{preserveState:!0,preserveScroll:!0,onSuccess:r=>{r.props.flash&&r.props.flash.report_url?window.open(r.props.flash.report_url,"_blank"):r.props.flash&&r.props.flash.error?alert(`Error generating report: ${r.props.flash.error}`):alert("Report generation requested. If download does not start, the server may not have provided a download URL.")},onError:r=>{const n=Object.keys(r)[0],v=n?r[n]:"Unknown error.";alert(`Failed to request downloadable report: ${v}`),console.error("Report download request errors:",r)}})},x=()=>{t("pdf")},j=()=>{t("excel")};return e.jsxs(b,{children:[e.jsx(g,{title:s}),e.jsx(y,{title:s}),e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Jenis Laporan:"}),e.jsx("p",{className:"font-semibold",children:s})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tanggal Laporan:"}),e.jsx("p",{className:"font-semibold",children:d})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Periode Laporan:"}),e.jsx("p",{className:"font-semibold",children:i})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6",children:e.jsx(k,{columns:m,data:l})}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Nama Manajer Operasional:"}),e.jsx("p",{className:"font-semibold",children:c})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(o,{variant:"white",onClick:p,children:"Preview"}),e.jsx(o,{onClick:x,children:"Download PDF"}),e.jsx(o,{variant:"secondary",onClick:j,children:"Download Excel"})]})]})})})]})}export{q as default};
