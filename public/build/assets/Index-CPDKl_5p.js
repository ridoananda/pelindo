import{r as n,S,j as e,a as W,f as P}from"./app-CoinIA6E.js";import{M as _}from"./MainLayout-BYuyV-GX.js";import{P as H}from"./PageHeader-Rbg_npNH.js";import{T as z}from"./Table-DoG381uc.js";import{B as t}from"./Button-D6nxZPqu.js";import{M as T}from"./Modal-FkTiBk6I.js";import"./transition-BwN6jb7x.js";function O({ships:v}){const[j,d]=n.useState(!1),[c,x]=n.useState(!1),[w,f]=n.useState(null),[m,h]=n.useState("table"),[l,k]=n.useState(""),{data:o,setData:r,post:y,put:N,errors:s,reset:g,processing:L}=S({name:"",type:"",cargo:"",departure_time:"",arrival_time:"",status:""}),M=[{header:"Nama Kapal",accessor:"name"},{header:"Jenis",accessor:"type"},{header:"Muatan",accessor:"cargo"},{header:"Perkiraan Waktu Berangkat",accessor:"departure_time"},{header:"Perkiraan Waktu Tiba",accessor:"arrival_time"},{header:"Status Kapal",accessor:"status",cell:a=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a==="Berlabuh"?"bg-green-100 text-green-800":a==="Berlayar"?"bg-blue-100 text-blue-800":a==="Perbaikan"?"bg-amber-100 text-amber-800":a==="Bongkar Muat"?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"}`,children:a})}],u=v.filter(a=>a.name.toLowerCase().includes(l.toLowerCase())||a.type.toLowerCase().includes(l.toLowerCase())||a.cargo.toLowerCase().includes(l.toLowerCase())||a.status.toLowerCase().includes(l.toLowerCase())),C=()=>{g(),x(!1),d(!0)},p=a=>{x(!0),f(a),r({name:a.name,type:a.type,cargo:a.cargo,departure_time:a.departure_time,arrival_time:a.arrival_time,status:a.status}),d(!0)},i=()=>{d(!1),g()},B=a=>{a.preventDefault(),c?N(route("ships.update",w.id),{onSuccess:()=>{i()}}):y(route("ships.store"),{onSuccess:()=>{i()}})},b=a=>{confirm("Apakah Anda yakin ingin menghapus data ini?")&&P.delete(route("ships.destroy",a.id))},K=a=>a.toLowerCase().includes("kargo")?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M5 13l4 4L19 7"}),e.jsx("rect",{x:"4",y:"14",width:"16",height:"6",rx:"1",strokeWidth:1.5}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M16 8V6a2 2 0 00-2-2H8a2 2 0 00-2 2v2"})]}):a.toLowerCase().includes("penumpang")?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"7",r:"4",strokeWidth:1.5}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"})]}):a.toLowerCase().includes("tanker")?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 10V3L4 14h7v7l9-11h-7z"})});return e.jsxs(_,{children:[e.jsx(W,{title:"Data Kapal"}),e.jsx(H,{title:"Data Kapal",description:"Kelola dan pantau data kapal yang beroperasi di pelabuhan",pattern:"shipWheel",actions:e.jsxs(t,{onClick:C,className:"bg-white !text-blue-800 hover:bg-blue-100 hover:!text-white transition-colors shadow-md",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Tambah Kapal"]})}),e.jsx("div",{className:"p-8 bg-gray-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>h("table"),className:`p-2 rounded-md ${m==="table"?"bg-blue-700 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("button",{onClick:()=>h("card"),className:`p-2 rounded-md ${m==="card"?"bg-blue-700 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsxs("div",{className:"ml-4 text-gray-700 font-medium",children:["Total: ",e.jsx("span",{className:"text-blue-700 font-semibold",children:u.length})," kapal"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Cari kapal...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm",value:l,onChange:a=>k(a.target.value)})]})]}),m==="table"?e.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:e.jsx(z,{columns:M,data:u,actions:a=>e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsxs(t,{variant:"white",size:"sm",onClick:()=>p(a),className:"border border-gray-300 hover:bg-gray-100",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs(t,{variant:"danger",size:"sm",onClick:()=>b(a),className:"bg-red-600 text-white hover:bg-red-700",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Hapus"]})]})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(a=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:`p-4 ${a.status==="Berlabuh"?"bg-gradient-to-r from-green-600 to-green-700":a.status==="Berlayar"?"bg-gradient-to-r from-blue-600 to-blue-700":a.status==="Perbaikan"?"bg-gradient-to-r from-amber-500 to-amber-600":a.status==="Bongkar Muat"?"bg-gradient-to-r from-indigo-600 to-indigo-700":"bg-gradient-to-r from-gray-600 to-gray-700"} text-white`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:a.name}),e.jsx("p",{className:"text-sm opacity-90",children:a.type})]}),e.jsx("div",{className:"text-white opacity-70",children:K(a.type)})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Muatan"}),e.jsx("p",{className:"font-medium",children:a.cargo})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Status"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.status==="Berlabuh"?"bg-green-100 text-green-800":a.status==="Berlayar"?"bg-blue-100 text-blue-800":a.status==="Perbaikan"?"bg-amber-100 text-amber-800":a.status==="Bongkar Muat"?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"}`,children:a.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Waktu Berangkat"}),e.jsx("p",{className:"font-medium",children:a.departure_time})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Waktu Tiba"}),e.jsx("p",{className:"font-medium",children:a.arrival_time})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-2 border-t",children:[e.jsxs(t,{variant:"white",size:"sm",onClick:()=>p(a),className:"border border-gray-300 hover:bg-gray-100",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs(t,{variant:"danger",size:"sm",onClick:()=>b(a),className:"bg-red-600 text-white hover:bg-red-700",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Hapus"]})]})]})]},a.id))})]})})}),e.jsx(T,{show:j,onClose:i,title:c?"Edit Data Kapal":"Tambah Data Kapal",children:e.jsxs("form",{onSubmit:B,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Kapal"}),e.jsx("input",{type:"text",value:o.name,onChange:a=>r("name",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jenis"}),e.jsxs("select",{value:o.type,onChange:a=>r("type",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Pilih Jenis Kapal"}),e.jsx("option",{value:"Kapal Kargo",children:"Kapal Kargo"}),e.jsx("option",{value:"Kapal Penumpang",children:"Kapal Penumpang"}),e.jsx("option",{value:"Kapal Tanker",children:"Kapal Tanker"}),e.jsx("option",{value:"Kapal Peti Kemas",children:"Kapal Peti Kemas"}),e.jsx("option",{value:"Kapal Pesiar",children:"Kapal Pesiar"}),e.jsx("option",{value:"Kapal Patroli",children:"Kapal Patroli"})]}),s.type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.type})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Muatan"}),e.jsx("input",{type:"text",value:o.cargo,onChange:a=>r("cargo",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),s.cargo&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.cargo})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perkiraan Waktu Berangkat"}),e.jsx("input",{type:"time",value:o.departure_time,onChange:a=>r("departure_time",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),s.departure_time&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.departure_time})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perkiraan Waktu Tiba"}),e.jsx("input",{type:"time",value:o.arrival_time,onChange:a=>r("arrival_time",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),s.arrival_time&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.arrival_time})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status Kapal"}),e.jsxs("select",{value:o.status,onChange:a=>r("status",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Pilih Status"}),e.jsx("option",{value:"Berlabuh",children:"Berlabuh"}),e.jsx("option",{value:"Berlayar",children:"Berlayar"}),e.jsx("option",{value:"Perbaikan",children:"Perbaikan"}),e.jsx("option",{value:"Bongkar Muat",children:"Bongkar Muat"}),e.jsx("option",{value:"Menunggu",children:"Menunggu"})]}),s.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.status})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsx(t,{variant:"white",onClick:i,className:"border border-gray-300",children:"Batal"}),e.jsx(t,{type:"submit",disabled:L,className:"bg-blue-700 hover:bg-blue-800 text-white",children:c?"Update":"Simpan"})]})]})})]})}export{O as default};
