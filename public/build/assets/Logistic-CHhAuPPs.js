import{q as w,j as e,a as v,f as N}from"./app-CVKFo1TU.js";import{M as b}from"./MainLayout-BfgqPZyM.js";import{P as y}from"./PageHeader-D9sznssG.js";import{T as P}from"./Table-B4XI9bfY.js";import{B as o}from"./Button-C44Nczka.js";function q({logistics:n,reportType:r,reportDate:d,reportPeriod:i,managerName:c}){const{url:m}=w(),h=[{header:"Nama Barang",accessor:"name"},{header:"Kategori",accessor:"category"},{header:"Tanggal",accessor:"date"},{header:"Status",accessor:"status"}],x=()=>{window.print()},t=f=>{const a=new URL(window.location.origin+m);a.searchParams.set("format",f);const g=a.pathname+a.search;N.get(g,{},{preserveState:!0,preserveScroll:!0,onSuccess:s=>{s.props.flash&&s.props.flash.report_url?window.open(s.props.flash.report_url,"_blank"):s.props.flash&&s.props.flash.error?alert(`Error generating report: ${s.props.flash.error}`):alert("Report generation requested. If download does not start, the server may not have provided a download URL.")},onError:s=>{const l=Object.keys(s)[0],u=l?s[l]:"Unknown error.";alert(`Failed to request downloadable report: ${u}`),console.error("Report download request errors:",s)}})},p=()=>{t("pdf")},j=()=>{t("excel")};return e.jsxs(b,{children:[e.jsx(v,{title:r}),e.jsx(y,{title:r}),e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Jenis Laporan:"}),e.jsx("p",{className:"font-semibold",children:r})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tanggal Laporan:"}),e.jsx("p",{className:"font-semibold",children:d})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Periode Laporan:"}),e.jsx("p",{className:"font-semibold",children:i})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6",children:e.jsx(P,{columns:h,data:n})}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Nama Manajer Operasional:"}),e.jsx("p",{className:"font-semibold",children:c})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(o,{variant:"white",onClick:x,children:"Preview"}),e.jsx(o,{onClick:p,children:"Download PDF"}),e.jsx(o,{variant:"secondary",onClick:j,children:"Download Excel"})]})]})})})]})}export{q as default};
