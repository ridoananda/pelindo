import{r as n,S as E,j as e,a as K,f as I}from"./app-BERX4-n9.js";import{M as F,P as H}from"./PageHeader-yVcw4ftL.js";import{T as J}from"./Table-CzKAhJT7.js";import{B as l}from"./Button-B55y3AIg.js";import{M as L}from"./Modal-Bi7oDWe2.js";import{B as T,P,C as _,a as G,L as O,b as z,p as Y,c as R,d as U,A as W}from"./index-DCpl5ra5.js";import"./transition-CvAcBJsu.js";_.register(G,O,z,Y,R,U,W);function ae({logistics:g}){const[p,m]=n.useState(!1),[d,h]=n.useState(!1),[x,b]=n.useState(null),[r,f]=n.useState({date:"",month:"",year:new Date().getFullYear().toString()}),{data:o,setData:t,post:j,put:v,errors:s,reset:y,processing:N}=E({name:"",category:"",date:"",status:""}),c=a=>{f({...r,[a.target.name]:a.target.value})},w=[{header:"Nama Barang",accessor:"name"},{header:"Kategori",accessor:"category"},{header:"Tanggal",accessor:"date"},{header:"Status",accessor:"status"}],k={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul"],datasets:[{label:"Barang Masuk",data:[12,19,3,5,2,3,9],backgroundColor:"rgba(75, 192, 192, 0.6)"},{label:"Barang Keluar",data:[8,15,5,10,6,7,12],backgroundColor:"rgba(153, 102, 255, 0.6)"}]},C={labels:["Masuk","Keluar"],datasets:[{data:[60,40],backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)"],borderColor:["rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},M={responsive:!0,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0}}},S={responsive:!0,plugins:{legend:{position:"top"},title:{display:!1}}},B=a=>{h(!0),b(a),t({name:a.name,category:a.category,date:a.date,status:a.status}),m(!0)},i=()=>{m(!1),y()},D=a=>{a.preventDefault(),d?v(route("logistics.update",x.id),{onSuccess:()=>{i()}}):j(route("logistics.store"),{onSuccess:()=>{i()}})},A=a=>{confirm("Apakah Anda yakin ingin menghapus data ini?")&&I.delete(route("logistics.destroy",a.id))};return e.jsxs(F,{children:[e.jsx(K,{title:"Data Logistik"}),e.jsx(H,{title:"Data Logistik"}),e.jsxs("div",{className:"p-4 md:p-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"w-full md:w-1/3",children:e.jsxs("select",{name:"date",value:r.date,onChange:c,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-3 pr-10 py-2 appearance-none",children:[e.jsx("option",{value:"",children:"Tanggal"}),Array.from({length:31},(a,u)=>u+1).map(a=>e.jsx("option",{value:a,children:a},a))]})}),e.jsx("div",{className:"w-full md:w-1/3",children:e.jsxs("select",{name:"month",value:r.month,onChange:c,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-3 pr-10 py-2 appearance-none",children:[e.jsx("option",{value:"",children:"Bulan"}),e.jsx("option",{value:"1",children:"Januari"}),e.jsx("option",{value:"2",children:"Februari"}),e.jsx("option",{value:"3",children:"Maret"}),e.jsx("option",{value:"4",children:"April"}),e.jsx("option",{value:"5",children:"Mei"}),e.jsx("option",{value:"6",children:"Juni"}),e.jsx("option",{value:"7",children:"Juli"}),e.jsx("option",{value:"8",children:"Agustus"}),e.jsx("option",{value:"9",children:"September"}),e.jsx("option",{value:"10",children:"Oktober"}),e.jsx("option",{value:"11",children:"November"}),e.jsx("option",{value:"12",children:"Desember"})]})}),e.jsx("div",{className:"w-full md:w-1/3",children:e.jsxs("select",{name:"year",value:r.year,onChange:c,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-3 pr-10 py-2 appearance-none",children:[e.jsx("option",{value:"",children:"Tahun"}),Array.from({length:10},(a,u)=>new Date().getFullYear()-u).map(a=>e.jsx("option",{value:a,children:a},a))]})})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Tabel Barang"}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx(J,{columns:w,data:g||[{name:"ABCDEFGHI",category:"HIJK",date:"03-03-2025",status:"Masuk"},{name:"ABCDEFGHI",category:"HIJK",date:"03-03-2025",status:"Keluar"},{name:"ABCDEFGHI",category:"HIJK",date:"03-03-2025",status:"Masuk"},{name:"ABCDEFGHI",category:"HIJK",date:"03-03-2025",status:"Keluar"}],actions:a=>e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{variant:"white",size:"sm",className:"border border-gray-300",onClick:()=>B(a),children:"Edit"}),e.jsx(l,{variant:"danger",size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>A(a),children:"Hapus"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsx(T,{data:k,options:M})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:e.jsx(P,{data:C,options:S})})]})]}),e.jsx(L,{show:p,onClose:i,title:d?"Edit Data Logistik":"Tambah Data Logistik",children:e.jsxs("form",{onSubmit:D,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Barang"}),e.jsx("input",{type:"text",value:o.name,onChange:a=>t("name",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),s.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),e.jsx("input",{type:"text",value:o.category,onChange:a=>t("category",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),s.category&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.category})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tanggal"}),e.jsx("input",{type:"date",value:o.date,onChange:a=>t("date",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),s.date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.date})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:o.status,onChange:a=>t("status",a.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Pilih status"}),e.jsx("option",{value:"Masuk",children:"Masuk"}),e.jsx("option",{value:"Keluar",children:"Keluar"})]}),s.status&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.status})]}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsx(l,{variant:"white",onClick:i,children:"Batal"}),e.jsx(l,{type:"submit",disabled:N,className:"bg-blue-600 hover:bg-blue-700",children:d?"Update":"Simpan"})]})]})})]})}export{ae as default};
