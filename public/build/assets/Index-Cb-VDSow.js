import{r as m,j as e,S as J,a as he,f as ge}from"./app-BAQ4-NRv.js";import{M as be,t as K}from"./MainLayout-DWnZ5q35.js";import{P as je}from"./PageHeader-dQ1AmDGd.js";import{T as O}from"./Table-DxS0TQ7q.js";import{B as j}from"./Button-CopqyLjc.js";import{M as H}from"./Modal-CVdCPnt7.js";import{P as ke,g as fe,C as ve,a as Ne,b as ye,B as we,A as Me,p as Ce,e as Le,f as Re}from"./index-CYOZA_oc.js";import"./transition-BWi4b6hZ.js";function Te({isVisible:s,message:o,type:u="info",onClose:n,duration:i=5e3}){const[l,d]=m.useState(!1);m.useEffect(()=>{if(s){d(!0);const c=setTimeout(()=>{t()},i);return()=>clearTimeout(c)}},[s,i]);const t=()=>{d(!1),setTimeout(()=>{n()},300)};if(!s)return null;const r=()=>{switch(u){case"success":return"bg-green-500 text-white border-green-600";case"error":return"bg-red-500 text-white border-red-600";case"warning":return"bg-yellow-500 text-white border-yellow-600";case"info":default:return"bg-blue-500 text-white border-blue-600"}},x=()=>{switch(u){case"success":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":default:return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsxs("div",{className:`
          flex items-center p-4 rounded-lg shadow-lg border max-w-sm transform transition-all duration-300 ease-in-out
          ${r()}
          ${l?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
        `,children:[e.jsx("div",{className:"flex-shrink-0",children:x()}),e.jsx("div",{className:"ml-3 flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:o})}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{onClick:t,className:"inline-flex text-white hover:text-gray-200 focus:outline-none focus:text-gray-200 transition ease-in-out duration-150",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})}const C=m.forwardRef(({label:s,name:o,type:u="text",value:n,onChange:i,placeholder:l,error:d,required:t=!1,disabled:r=!1,className:x="",...c},p)=>e.jsxs("div",{className:"space-y-2",children:[s&&e.jsxs("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700",children:[s,t&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{ref:p,id:o,name:o,type:u,value:n,onChange:i,placeholder:l,disabled:r,required:t,className:`
          w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
          ${d?"border-red-300 focus:ring-red-500":"border-gray-300"}
          ${r?"bg-gray-100 cursor-not-allowed":"bg-white"}
          ${x}
        `,...c}),d&&e.jsx("p",{className:"text-sm text-red-600",children:d})]}));C.displayName="Input";const D=m.forwardRef(({label:s,name:o,value:u,onChange:n,placeholder:i,error:l,required:d=!1,disabled:t=!1,rows:r=3,className:x="",...c},p)=>e.jsxs("div",{className:"space-y-2",children:[s&&e.jsxs("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700",children:[s,d&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("textarea",{ref:p,id:o,name:o,value:u,onChange:n,placeholder:i,disabled:t,required:d,rows:r,className:`
          w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical
          ${l?"border-red-300 focus:ring-red-500":"border-gray-300"}
          ${t?"bg-gray-100 cursor-not-allowed":"bg-white"}
          ${x}
        `,...c}),l&&e.jsx("p",{className:"text-sm text-red-600",children:l})]}));D.displayName="Textarea";const R=m.forwardRef(({label:s,name:o,value:u,onChange:n,options:i=[],placeholder:l,error:d,required:t=!1,disabled:r=!1,className:x="",...c},p)=>e.jsxs("div",{className:"space-y-2",children:[s&&e.jsxs("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700",children:[s,t&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("select",{ref:p,id:o,name:o,value:u,onChange:n,disabled:r,required:t,className:`
          w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent
          ${d?"border-red-300 focus:ring-red-500":"border-gray-300"}
          ${r?"bg-gray-100 cursor-not-allowed":"bg-white"}
          ${x}
        `,...c,children:[l&&e.jsx("option",{value:"",disabled:!0,children:l}),i.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))]}),d&&e.jsx("p",{className:"text-sm text-red-600",children:d})]}));R.displayName="Select";function Se({risk:s=null,onClose:o,isEdit:u=!1}){const{data:n,setData:i,post:l,put:d,processing:t,errors:r,reset:x}=J({type:(s==null?void 0:s.type)||"",impact:(s==null?void 0:s.impact)||"",status:(s==null?void 0:s.status)||"Normal",recommendation:(s==null?void 0:s.recommendation)||""}),[c,p]=m.useState(!1),f=[{value:"Normal",label:"Normal"},{value:"Tinggi",label:"Tinggi"}],y=k=>{k.preventDefault(),p(!0),u?d(route("risks.update",s.id),{onSuccess:()=>{o(),x()},onError:()=>{p(!1)},onFinish:()=>{p(!1)}}):l(route("risks.store"),{onSuccess:()=>{o(),x()},onError:()=>{p(!1)},onFinish:()=>{p(!1)}})},b=()=>{x(),o()};return e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(C,{label:"Jenis Risiko",name:"type",value:n.type,onChange:k=>i("type",k.target.value),error:r.type,placeholder:"Masukkan jenis risiko",required:!0})}),e.jsx("div",{children:e.jsx(C,{label:"Dampak Risiko",name:"impact",value:n.impact,onChange:k=>i("impact",k.target.value),error:r.impact,placeholder:"Masukkan dampak risiko",required:!0})})]}),e.jsx("div",{children:e.jsx(R,{label:"Status Risiko",name:"status",value:n.status,onChange:k=>i("status",k.target.value),error:r.status,options:f,required:!0})}),e.jsx("div",{children:e.jsx(D,{label:"Rekomendasi Penanganan",name:"recommendation",value:n.recommendation,onChange:k=>i("recommendation",k.target.value),error:r.recommendation,placeholder:"Masukkan rekomendasi penanganan risiko",rows:4,required:!0})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:b,disabled:t||c,children:"Batal"}),e.jsx(j,{type:"submit",disabled:t||c,className:"bg-blue-600 hover:bg-blue-700",children:t||c?"Menyimpan...":u?"Update":"Simpan"})]})]})}function Ae({report:s=null,onClose:o,isEdit:u=!1}){const{data:n,setData:i,post:l,put:d,processing:t,errors:r,reset:x}=J({report_date:(s==null?void 0:s.report_date)||new Date().toISOString().split("T")[0],risk_type:(s==null?void 0:s.risk_type)||"",description:(s==null?void 0:s.description)||"",recommended_action:(s==null?void 0:s.recommended_action)||""}),[c,p]=m.useState(!1),f=b=>{b.preventDefault(),p(!0),u?d(route("risk-reports.update",s.id),{onSuccess:()=>{o(),x()},onError:()=>{p(!1)},onFinish:()=>{p(!1)}}):l(route("risk-reports.store"),{onSuccess:()=>{o(),x()},onError:()=>{p(!1)},onFinish:()=>{p(!1)}})},y=()=>{x(),o()};return e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(C,{label:"Tanggal Laporan",name:"report_date",type:"date",value:n.report_date,onChange:b=>i("report_date",b.target.value),error:r.report_date,required:!0})}),e.jsx("div",{children:e.jsx(C,{label:"Jenis Risiko",name:"risk_type",value:n.risk_type,onChange:b=>i("risk_type",b.target.value),error:r.risk_type,placeholder:"Masukkan jenis risiko",required:!0})})]}),e.jsx("div",{children:e.jsx(D,{label:"Deskripsi Risiko",name:"description",value:n.description,onChange:b=>i("description",b.target.value),error:r.description,placeholder:"Jelaskan detail risiko yang terjadi",rows:4,required:!0})}),e.jsx("div",{children:e.jsx(D,{label:"Tindakan yang Direkomendasikan",name:"recommended_action",value:n.recommended_action,onChange:b=>i("recommended_action",b.target.value),error:r.recommended_action,placeholder:"Masukkan tindakan yang direkomendasikan untuk menangani risiko",rows:4,required:!0})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:y,disabled:t||c,children:"Batal"}),e.jsx(j,{type:"submit",disabled:t||c,className:"bg-green-600 hover:bg-green-700",children:t||c?"Menyimpan...":u?"Update":"Simpan"})]})]})}function _e({assessment:s=null,onClose:o,isEdit:u=!1}){const{data:n,setData:i,post:l,put:d,processing:t,errors:r,reset:x}=J({respondent_name:(s==null?void 0:s.respondent_name)||"",respondent_job:(s==null?void 0:s.respondent_job)||"Manajer Bistek Operasional",risk_code:(s==null?void 0:s.risk_code)||"",risk_description:(s==null?void 0:s.risk_description)||"",severity:(s==null?void 0:s.severity)||1,occurrence:(s==null?void 0:s.occurrence)||1,detection:(s==null?void 0:s.detection)||1}),[c,p]=m.useState(!1),f=[{value:"Manajer Bistek Operasional",label:"Manajer Bistek Operasional"},{value:"Petugas Lapangan Operasional",label:"Petugas Lapangan Operasional"}],y=Array.from({length:10},(g,L)=>({value:L+1,label:`${L+1}`})),b=n.severity*n.occurrence*n.detection,k=b>=125?"Tinggi":"Normal",T=g=>{g.preventDefault(),p(!0),u?d(route("risk-assessments.update",s.id),{onSuccess:()=>{o(),x()},onError:()=>{p(!1)},onFinish:()=>{p(!1)}}):l(route("risk-assessments.store"),{onSuccess:()=>{o(),x()},onError:()=>{p(!1)},onFinish:()=>{p(!1)}})},S=()=>{x(),o()};return e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(C,{label:"Nama Responden",name:"respondent_name",value:n.respondent_name,onChange:g=>i("respondent_name",g.target.value),error:r.respondent_name,placeholder:"Masukkan nama responden",required:!0})}),e.jsx("div",{children:e.jsx(R,{label:"Posisi Responden",name:"respondent_job",value:n.respondent_job,onChange:g=>i("respondent_job",g.target.value),error:r.respondent_job,options:f,required:!0})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(C,{label:"Kode Risiko",name:"risk_code",value:n.risk_code,onChange:g=>i("risk_code",g.target.value),error:r.risk_code,placeholder:"Contoh: M01, M02, dll",required:!0})}),e.jsx("div",{children:e.jsx(D,{label:"Deskripsi Risiko",name:"risk_description",value:n.risk_description,onChange:g=>i("risk_description",g.target.value),error:r.risk_description,placeholder:"Jelaskan mode kegagalan atau risiko",rows:3,required:!0})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Penilaian FMEA"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(R,{label:"Severity (S) - Tingkat Keparahan",name:"severity",value:n.severity,onChange:g=>i("severity",parseInt(g.target.value)),error:r.severity,options:y,required:!0}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Seberapa parah dampak jika risiko terjadi (1-10)"})]}),e.jsxs("div",{children:[e.jsx(R,{label:"Occurrence (O) - Tingkat Kemunculan",name:"occurrence",value:n.occurrence,onChange:g=>i("occurrence",parseInt(g.target.value)),error:r.occurrence,options:y,required:!0}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Seberapa sering risiko kemungkinan terjadi (1-10)"})]}),e.jsxs("div",{children:[e.jsx(R,{label:"Detection (D) - Tingkat Deteksi",name:"detection",value:n.detection,onChange:g=>i("detection",parseInt(g.target.value)),error:r.detection,options:y,required:!0}),e.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"Seberapa mudah risiko dapat dideteksi (1-10)"})]})]}),e.jsx("div",{className:"mt-6 bg-white rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Risk Priority Number (RPN)"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["S Ã— O Ã— D = ",n.severity," Ã— ",n.occurrence," Ã— ",n.detection]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${k==="Tinggi"?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:k})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:S,disabled:t||c,children:"Batal"}),e.jsx(j,{type:"submit",disabled:t||c,className:"bg-purple-600 hover:bg-purple-700",children:t||c?"Menyimpan...":u?"Update":"Simpan"})]})]})}function De(){const[s,o]=m.useState(""),[u,n]=m.useState("Semua"),i=[{id:"container",name:"Bongkar Muat Peti Kemas",icon:"ðŸ“¦",color:"bg-blue-100 text-blue-800",risks:[{id:1,code:"M01",failureMode:"Data peti kemas tidak tercatat atau salah",effect:"Kesalahan pencatatan stok, keterlambatan bongkar muat",cause:"Kelalaian petugas, tidak ada verifikasi dokumen",severity:"Tinggi",rpn:196.92},{id:2,code:"M02",failureMode:"Penempatan peti kemas tidak sesuai posisi",effect:"Sulit dicari saat distribusi, waktu pengiriman molor",cause:"Tidak adanya panduan penempatan, koordinasi antar shift lemah",severity:"Sedang",rpn:145.5},{id:3,code:"M03",failureMode:"Kerusakan alat bongkar (crane/forklift)",effect:"Proses bongkar muat terhenti, menimbulkan antrean kapal",cause:"Alat tidak dirawat berkala, usia alat tua",severity:"Tinggi",rpn:178.3}]},{id:"pilotage",name:"Pelayanan Kapal Pandu & Sandar",icon:"ðŸš¢",color:"bg-green-100 text-green-800",risks:[{id:4,code:"M04",failureMode:"Jadwal kapal tumpang tindih",effect:"Keterlambatan masuk/sandar kapal, kapal menunggu berjam di perairan",cause:"Tidak ada protokol komunikasi standar",severity:"Tinggi",rpn:151.25},{id:5,code:"M05",failureMode:"Kapal pandu tidak tersedia saat dibutuhkan",effect:"Kapal menunggu lama, biaya operasional meningkat",cause:"Jumlah kapal pandu terbatas, tidak ada sistem giliran",severity:"Tinggi",rpn:153.9}]},{id:"logistics",name:"Manajemen Logistik",icon:"ðŸ“‹",color:"bg-purple-100 text-purple-800",risks:[{id:6,code:"M06",failureMode:"Penumpukan barang tidak rapi",effect:"Barang sulit dicari, risiko kerusakan meningkat",cause:"Tidak ada sistem zona penempatan, tata letak tidak ditentukan",severity:"Sedang",rpn:128.75},{id:7,code:"M07",failureMode:"Barang tidak terpantau",effect:"Barang hilang atau tercecer",cause:"Logistik tidak koordinatif",severity:"Sedang",rpn:135.2}]},{id:"administration",name:"Administrasi dan Pelaporan",icon:"ðŸ“Š",color:"bg-orange-100 text-orange-800",risks:[{id:8,code:"M08",failureMode:"Laporan tidak terkirim tepat waktu",effect:"Evaluasi manajemen dan pengambilan keputusan terlambat",cause:"Input data dari divisi berbeda tidak cocok",severity:"Tinggi",rpn:156.24},{id:9,code:"M09",failureMode:"Data kapal dan peti kemas tidak sinkron",effect:"Kebingungan koordinasi, keterlambatan operasi",cause:"Koordinasi lemah antar level kerja, tidak ada konfirmasi tugas",severity:"Tinggi",rpn:197.39}]},{id:"coordination",name:"Koordinasi Antar Unit Operasional",icon:"ðŸ¤",color:"bg-indigo-100 text-indigo-800",risks:[{id:10,code:"M10",failureMode:"Informasi status kapal tidak seragam",effect:"Kebingungan koordinasi antar unit",cause:"Tidak ada standar komunikasi yang jelas",severity:"Sedang",rpn:155.6}]},{id:"safety",name:"Keselamatan Kerja",icon:"ðŸ›¡ï¸",color:"bg-red-100 text-red-800",risks:[{id:11,code:"M11",failureMode:"Kecelakaan kerja saat bongkar muat",effect:"Cedera pekerja, penghentian sementara operasional",cause:"Tidak ada sistem monitoring cuaca yang konsisten, tidak ada antisipasi",severity:"Tinggi",rpn:155.02}]}],l=i.filter(t=>{const r=u==="Semua"||t.id===u,x=t.risks.some(c=>c.failureMode.toLowerCase().includes(s.toLowerCase())||c.effect.toLowerCase().includes(s.toLowerCase())||c.cause.toLowerCase().includes(s.toLowerCase())||c.code.toLowerCase().includes(s.toLowerCase()));return r&&(s===""||x)}),d=t=>t>=150?"text-red-600 font-bold":t>=100?"text-orange-600 font-bold":"text-green-600 font-bold";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Manajemen Analisis Risiko FMEA"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Kelola dan pantau risiko operasional berdasarkan analisis FMEA"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Tim FMEA Analysis"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Tim FMEA Analysis di PT. Pelabuhan Indonesia (Persero) Sibolga Branch terdiri dari peneliti, manajer operasional, dan petugas operasional pelabuhan."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-2",children:"Peneliti"}),e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),e.jsx("span",{className:"text-gray-700",children:"Indah Novita Jambak"})]})})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:"Manajer Operasional"}),e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),e.jsx("span",{className:"text-gray-700",children:"Subiyanto"})]})})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("h5",{className:"font-semibold text-purple-800 mb-2",children:"Petugas Operasional (15 orang)"}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:["Samabudi Giawa","Rosihin Anwar","Abner Sitompul","Hotland Hutagalung","Yanuari Halawa","Gomgom Wisastro Ujung","Jhonny Tua Siambaton","Banje Gusra Panggabean","Minar Butar-butar","Frannes Francois Lumbantobing","Santo Riris Marito Hutagalung","Irfan Situmeang","Ahmad Mulyadi Sitompul","Rulli Sihite","Riston Sitohang"].map((t,r)=>e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),e.jsx("span",{className:"text-gray-700",children:t})]},r))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Cakupan FMEA"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Cakupan FMEA didefinisikan untuk memfokuskan analisis pada proses inti dengan potensi risiko yang signifikan. Dalam penelitian ini, cakupan dibatasi pada aktivitas operasional pelabuhan yang meliputi:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:"ðŸ“¦",title:"Pencatatan Data Peti Kemas",description:"Memastikan keakuratan informasi peti kemas"},{icon:"ðŸš¢",title:"Penjadwalan Kapal",description:"Mengatur kelancaran sandar dan berangkat kapal"},{icon:"ðŸ§­",title:"Pelayanan Kapal Pandu",description:"Memastikan keselamatan manuver kapal"},{icon:"ðŸ“‹",title:"Pengelolaan Logistik",description:"Mengelola alur barang dan inventori"},{icon:"ðŸ“Š",title:"Penyusunan Laporan Administrasi",description:"Menyediakan informasi akurat dan tepat waktu untuk pengambilan keputusan manajerial"}].map((t,r)=>e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-2xl mr-3",children:t.icon}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-blue-800 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]})},r))}),e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Catatan:"})," Area-area ini dipilih karena memiliki kerentanan tinggi terhadap kesalahan dan keterlambatan yang dapat berdampak langsung pada kinerja operasional pelabuhan."]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx(C,{type:"text",placeholder:"Cari berdasarkan mode kegagalan, dampak, atau penyebab...",value:s,onChange:t=>o(t.target.value),className:"pl-10"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:u,onChange:t=>n(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-48",children:[e.jsx("option",{value:"Semua",children:"Semua Kategori"}),i.map(t=>e.jsxs("option",{value:t.id,children:[t.icon," ",t.name]},t.id))]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Risiko Tinggi"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:i.reduce((t,r)=>t+r.risks.filter(x=>x.severity==="Tinggi").length,0)})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Risiko Sedang"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:i.reduce((t,r)=>t+r.risks.filter(x=>x.severity==="Sedang").length,0)})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Risiko"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:i.reduce((t,r)=>t+r.risks.length,0)})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Kategori"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:i.length})]})]})})]}),e.jsx("div",{className:"space-y-6",children:l.map(t=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:`${t.color} border-b p-6`,children:e.jsxs("div",{className:"flex items-center text-lg font-semibold",children:[e.jsx("span",{className:"text-2xl mr-3",children:t.icon}),t.name,e.jsxs("span",{className:"ml-auto bg-white bg-opacity-50 px-3 py-1 rounded-full text-sm font-medium",children:[t.risks.length," risiko"]})]})}),e.jsx("div",{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mode Kegagalan"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dampak Kegagalan"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Penyebab Kegagalan"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RPN"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.risks.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-gray-100 text-gray-800 border border-gray-200 font-mono",children:r.code})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs",children:r.failureMode})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"text-sm text-gray-700 max-w-xs",children:r.effect})}),e.jsx("td",{className:"px-4 py-4",children:e.jsx("div",{className:"text-sm text-gray-700 max-w-xs",children:r.cause})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:`text-lg font-bold ${d(r.rpn)}`,children:r.rpn})})]},r.id))})]})})})]},t.id))})]})}function Pe({isOpen:s,onClose:o,onConfirm:u,title:n,message:i,itemName:l,isDeleting:d=!1}){return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:i}),l&&e.jsxs("p",{className:"text-sm font-medium text-gray-900 bg-gray-100 p-3 rounded-md",children:['"',l,'"']}),e.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Tindakan ini tidak dapat dibatalkan."})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx(j,{type:"button",variant:"outline",onClick:o,disabled:d,children:"Batal"}),e.jsx(j,{type:"button",onClick:u,disabled:d,className:"bg-red-600 hover:bg-red-700",children:d?"Menghapus...":"Hapus"})]})]})})}):null}ve.register(Ne,ye,we,Me,Ce,Le,Re);function $e({risks:s,riskStatus:o,riskReports:u,riskStats:n,riskAssessments:i,fmeaAnalysisSummary:l,flash:d}){const[t,r]=m.useState(!1),[x,c]=m.useState(!1),[p,f]=m.useState(!1),[y,b]=m.useState(!1),[k,T]=m.useState(null),[S,g]=m.useState(null),[L,F]=m.useState(null),[w,q]=m.useState(null),[P,V]=m.useState(""),[Y,I]=m.useState(!1),[A,Z]=m.useState(""),[E,Q]=m.useState("Semua"),[N,_]=m.useState("risks"),[W,U]=m.useState({isVisible:!1,message:"",type:"info"}),B=(a,h="info")=>{U({isVisible:!0,message:a,type:h})},X=()=>{U({isVisible:!1,message:"",type:"info"})};m.useEffect(()=>{d!=null&&d.success?B(d.success,"success"):d!=null&&d.error&&B(d.error,"error")},[d]);const ee=[{header:"No.",accessor:null,cell:(a,h,v)=>v+1},{header:"Jenis Risiko",accessor:"type"},{header:"Dampak",accessor:"impact"},{header:"Status",accessor:"status",cell:a=>e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a==="Tinggi"?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:a})},{header:"Rekomendasi",accessor:"recommendation",cell:a=>e.jsx("div",{className:"max-w-xs whitespace-normal break-words text-sm",children:a})},{header:"Aksi",accessor:null,cell:(a,h)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j,{size:"sm",variant:"outline",onClick:()=>de(h),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),e.jsx(j,{size:"sm",variant:"outline",onClick:()=>$(h,"risk"),className:"text-red-600 hover:text-red-800",children:"Hapus"})]})}],ae=[{header:"No.",accessor:null,cell:(a,h,v)=>v+1},{header:"Tanggal",accessor:"report_date",cell:a=>new Date(a).toLocaleDateString("id-ID")},{header:"Jenis Risiko",accessor:"risk_type"},{header:"Deskripsi",accessor:"description",cell:a=>e.jsx("div",{className:"max-w-xs whitespace-normal break-words text-sm",children:a})},{header:"Tindakan",accessor:"recommended_action",cell:a=>e.jsx("div",{className:"max-w-xs whitespace-normal break-words text-sm",children:a})},{header:"Aksi",accessor:null,cell:(a,h)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j,{size:"sm",variant:"outline",onClick:()=>ce(h),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),e.jsx(j,{size:"sm",variant:"outline",onClick:()=>$(h,"report"),className:"text-red-600 hover:text-red-800",children:"Hapus"})]})}],se=[{header:"No.",accessor:null,cell:(a,h,v)=>v+1},{header:"Nama Responden",accessor:"respondent_name"},{header:"Pekerjaan Responden",accessor:"respondent_job",cell:a=>e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:a})},{header:"Kode",accessor:"risk_code",cell:a=>e.jsx("span",{className:"font-mono font-bold text-purple-700",children:a})},{header:"Severity",accessor:"severity",cell:a=>e.jsx("span",{className:`font-bold px-2 py-1 rounded ${a>=7?"bg-red-100 text-red-800":a>=4?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:a})},{header:"Occurrence",accessor:"occurrence",cell:a=>e.jsx("span",{className:`font-bold px-2 py-1 rounded ${a>=7?"bg-red-100 text-red-800":a>=4?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:a})},{header:"Detection",accessor:"detection",cell:a=>e.jsx("span",{className:`font-bold px-2 py-1 rounded ${a>=7?"bg-red-100 text-red-800":a>=4?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:a})},{header:"Aksi",accessor:null,cell:(a,h)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j,{size:"sm",variant:"outline",onClick:()=>me(h),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),e.jsx(j,{size:"sm",variant:"outline",onClick:()=>$(h,"assessment"),className:"text-red-600 hover:text-red-800",children:"Hapus"})]})}],te=[{header:"Kode",accessor:"kode",cell:a=>e.jsx("span",{className:"font-mono font-bold text-purple-700",children:a})},{header:"Deskripsi",accessor:"deskripsi",cell:a=>e.jsx("div",{className:"max-w-xs whitespace-normal break-words text-sm",children:a})},{header:"Avg S",accessor:"avg_severity",cell:a=>e.jsx("span",{className:"font-bold text-blue-600",children:a})},{header:"Avg O",accessor:"avg_occurrence",cell:a=>e.jsx("span",{className:"font-bold text-green-600",children:a})},{header:"Avg D",accessor:"avg_detection",cell:a=>e.jsx("span",{className:"font-bold text-orange-600",children:a})},{header:"RPN",accessor:"avg_rpn",cell:a=>e.jsx("span",{className:"font-extrabold text-lg text-gray-800",children:a})},{header:"Tingkat Risiko",accessor:"tingkat_risiko",cell:a=>e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${a==="Tinggi"?"bg-red-500 text-white":"bg-green-500 text-white"}`,children:a})}],re=m.useMemo(()=>!i||!Array.isArray(i)?[]:i.filter(a=>{const h=a.respondent_name.toLowerCase().includes(A.toLowerCase())||a.risk_code.toLowerCase().includes(A.toLowerCase())||a.risk_description.toLowerCase().includes(A.toLowerCase()),v=E==="Semua"||a.respondent_job===E;return h&&v}),[i,A,E]),z=m.useMemo(()=>{const a={Tinggi:0,Normal:0};return l&&Array.isArray(l)&&l.forEach(h=>{a.hasOwnProperty(h.tingkat_risiko)&&a[h.tingkat_risiko]++}),a},[l]),ne={labels:Object.keys(z),datasets:[{data:Object.values(z),backgroundColor:["#ef4444","#10b981"],borderColor:"#ffffff",borderWidth:3}]},ie={labels:l&&Array.isArray(l)?l.slice(0,10).map(a=>a.kode):[],datasets:[{label:"Risk Priority Number (RPN)",data:l&&Array.isArray(l)?l.slice(0,10).map(a=>a.avg_rpn):[],backgroundColor:l&&Array.isArray(l)?l.slice(0,10).map(a=>a.tingkat_risiko==="Tinggi"?"#ef4444":"#10b981"):[],borderColor:"#374151",borderWidth:1}]},G={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:K.colors.neutral[700],font:{size:12}}},title:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{color:K.colors.neutral[600]},grid:{color:K.colors.neutral[200]}},x:{ticks:{color:K.colors.neutral[600]},grid:{display:!1}}}},le=()=>{T(null),r(!0)},de=a=>{T(a),r(!0)},oe=()=>{g(null),c(!0)},ce=a=>{g(a),c(!0)},xe=()=>{F(null),f(!0)},me=a=>{F(a),f(!0)},$=(a,h)=>{q(a),V(h),b(!0)},M=()=>{r(!1),c(!1),f(!1),b(!1),T(null),g(null),F(null),q(null),V("")},ue=()=>{if(!w||!P)return;I(!0);let a="",h="",v="";switch(P){case"risk":a="risks.destroy",h=w.id,v="Data risiko berhasil dihapus";break;case"report":a="risk-reports.destroy",h=w.id,v="Laporan risiko berhasil dihapus";break;case"assessment":a="risk-assessments.destroy",h=w.id,v="Assessment FMEA berhasil dihapus";break;default:return}ge.delete(route(a,h),{onSuccess:()=>{M(),I(!1),B(v,"success")},onError:()=>{I(!1),B("Terjadi kesalahan saat menghapus data","error")}})},pe=()=>{if(!w||!P)return{};switch(P){case"risk":return{title:"Hapus Data Risiko",message:"Apakah Anda yakin ingin menghapus data risiko ini?",itemName:w.type};case"report":return{title:"Hapus Laporan Risiko",message:"Apakah Anda yakin ingin menghapus laporan risiko ini?",itemName:w.risk_type};case"assessment":return{title:"Hapus Assessment FMEA",message:"Apakah Anda yakin ingin menghapus assessment FMEA ini?",itemName:`${w.respondent_name} - ${w.risk_code}`};default:return{}}};return e.jsxs(be,{children:[e.jsx(he,{title:"Manajemen Risiko - Analisis Risiko"}),e.jsx(je,{title:"Manajemen Risiko",subtitle:"Kelola dan pantau risiko operasional pelabuhan",breadcrumb:[{label:"Dashboard",href:"/dashboard"},{label:"Risiko",current:!0}]}),e.jsxs("div",{className:"p-8 bg-gray-50",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Risiko"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.total)||0})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-red-100 text-red-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Risiko Tinggi"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:(n==null?void 0:n.tinggi)||0})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-orange-100 text-orange-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Risiko Tinggi"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:(n==null?void 0:n.tinggi)||0})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Status Keseluruhan"}),e.jsx("p",{className:`text-2xl font-bold ${o==="Tinggi"?"text-red-600":"text-green-600"}`,children:o})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Distribusi Tingkat Risiko"}),e.jsx("div",{className:"h-64",children:Object.values(z).some(a=>a>0)?e.jsx(ke,{data:ne,options:G}):e.jsx("p",{className:"text-gray-500 text-center pt-24",children:"Tidak ada data untuk ditampilkan"})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Top 10 Risk Priority Number (RPN)"}),e.jsx("div",{className:"h-64",children:l&&l.length>0?e.jsx(fe,{data:ie,options:G}):e.jsx("p",{className:"text-gray-500 text-center pt-24",children:"Tidak ada data untuk ditampilkan"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>_("risks"),className:`py-4 px-1 border-b-2 font-medium text-sm ${N==="risks"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Data Risiko"}),e.jsx("button",{onClick:()=>_("reports"),className:`py-4 px-1 border-b-2 font-medium text-sm ${N==="reports"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Laporan Risiko"}),e.jsx("button",{onClick:()=>_("assessments"),className:`py-4 px-1 border-b-2 font-medium text-sm ${N==="assessments"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Assessment FMEA"}),e.jsx("button",{onClick:()=>_("analysis"),className:`py-4 px-1 border-b-2 font-medium text-sm ${N==="analysis"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Hasil Analisis FMEA"}),e.jsx("button",{onClick:()=>_("management"),className:`py-4 px-1 border-b-2 font-medium text-sm ${N==="management"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Manajemen Risiko"})]})}),e.jsxs("div",{className:"p-6",children:[N==="risks"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Data Risiko"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Kelola data risiko operasional pelabuhan"})]}),e.jsxs(j,{onClick:le,className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Tambah Risiko"]})]}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:e.jsx(O,{columns:ee,data:s||[]})})]}),N==="reports"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Laporan Risiko"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Kelola laporan kejadian risiko"})]}),e.jsxs(j,{onClick:oe,className:"bg-green-600 hover:bg-green-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Tambah Laporan"]})]}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:e.jsx(O,{columns:ae,data:u||[]})})]}),N==="assessments"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Assessment FMEA"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Kelola penilaian FMEA (Failure Mode and Effect Analysis)"})]}),e.jsxs(j,{onClick:xe,className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Tambah Assessment"]})]}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Cari berdasarkan nama, kode, atau deskripsi...",value:A,onChange:a=>Z(a.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsx("div",{children:e.jsxs("select",{value:E,onChange:a=>Q(a.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"Semua",children:"Semua Posisi"}),e.jsx("option",{value:"Manajer Bistek Operasional",children:"Manajer Bistek Operasional"}),e.jsx("option",{value:"Petugas Lapangan Operasional",children:"Petugas Lapangan Operasional"})]})})]}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:e.jsx(O,{columns:se,data:re})})]}),N==="analysis"&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-1",children:"Hasil Analisis FMEA"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Ringkasan analisis risiko berdasarkan rata-rata penilaian responden"}),e.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-3 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Keterangan Metode FMEA"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white p-3 rounded-md border-l-4 border-blue-500",children:[e.jsx("strong",{className:"text-blue-900",children:"Severity (S):"}),e.jsx("p",{className:"text-blue-800 mt-1",children:"Seberapa parah dampak jika risiko terjadi"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-md border-l-4 border-green-500",children:[e.jsx("strong",{className:"text-green-900",children:"Occurrence (O):"}),e.jsx("p",{className:"text-green-800 mt-1",children:"Seberapa sering risiko kemungkinan terjadi"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-md border-l-4 border-orange-500",children:[e.jsx("strong",{className:"text-orange-900",children:"Detection (D):"}),e.jsx("p",{className:"text-orange-800 mt-1",children:"Seberapa mudah risiko dapat dideteksi"})]})]}),e.jsx("div",{className:"mt-3 text-center bg-white p-2 rounded-md",children:e.jsx("strong",{className:"text-gray-900",children:"Risk Priority Number (RPN) = S Ã— O Ã— D"})})]}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-gray-200",children:e.jsx(O,{columns:te,data:l||[]})}),e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-red-50 to-orange-50 rounded-xl border border-red-200 p-6",children:[e.jsxs("h4",{className:"text-xl font-bold text-red-900 mb-3 flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})}),"HASIL FMEA TINGKAT RISIKO OPERASIONAL PELABUHAN"]}),e.jsx("p",{className:"text-red-800 mb-6 font-medium",children:"Hasil mitigasi risiko dengan tingkat risiko tertinggi berdasarkan perhitungan RPN."}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full bg-white rounded-lg shadow-sm",children:[e.jsx("thead",{className:"bg-red-600 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-sm",children:"Kode"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-sm",children:"Mode Kegagalan"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-sm",children:"RPN"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-sm",children:"Mitigasi Risiko"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"M01"})}),e.jsx("td",{className:"px-4 py-4 text-gray-900",children:"Data peti kemas tidak tercatat atau salah"}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:"font-bold text-red-600 bg-red-100 px-3 py-1 rounded-full",children:"196,92"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:"Wajibkan semua petugas menerima dokumen muatan resmi dari pihak pelayaran sebelum kegiatan dimulai."})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"M04"})}),e.jsx("td",{className:"px-4 py-4 text-gray-900",children:"Jadwal kapal tumpang tindih"}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:"font-bold text-orange-600 bg-orange-100 px-3 py-1 rounded-full",children:"151,25"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:"Terapkan sistem jadwal berbasis shift harian tetap dan larangan perubahan mendadak tanpa persetujuan."})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"M05"})}),e.jsx("td",{className:"px-4 py-4 text-gray-900",children:"Kapal pandu tidak tersedia saat dibutuhkan"}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:"font-bold text-orange-600 bg-orange-100 px-3 py-1 rounded-full",children:"153,90"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:"Buat sistem giliran kerja dan siaga (standby) bagi kapal pandu di jam sibuk atau waktu padat sandar."})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"M07"})}),e.jsx("td",{className:"px-4 py-4 text-gray-900",children:"Laporan tidak terkirim tepat waktu"}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:"font-bold text-orange-600 bg-orange-100 px-3 py-1 rounded-full",children:"156,24"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:"Tetapkan jam batas pelaporan harian di SOP dan beri teguran resmi jika melewati batas waktu."})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"M08"})}),e.jsx("td",{className:"px-4 py-4 text-gray-900",children:"Data kapal dan peti kemas tidak sinkron"}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:"font-bold text-red-600 bg-red-100 px-3 py-1 rounded-full",children:"197,39"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:"Buat tim verifikasi gabungan dari divisi kapal dan logistik yang bertugas mencocokkan data sebelum bongkar."})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"M09"})}),e.jsx("td",{className:"px-4 py-4 text-gray-900",children:"Kecelakaan kerja saat bongkar muat"}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:"font-bold text-orange-600 bg-orange-100 px-3 py-1 rounded-full",children:"155,02"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:"Wajibkan briefing keselamatan sebelum shift dimulai dan pengawasan langsung oleh mandor tiap kegiatan."})]}),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-4",children:e.jsx("span",{className:"font-mono font-bold text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"M20"})}),e.jsx("td",{className:"px-4 py-4 text-gray-900",children:"Informasi status kapal tidak seragam"}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("span",{className:"font-bold text-orange-600 bg-orange-100 px-3 py-1 rounded-full",children:"155,60"})}),e.jsx("td",{className:"px-4 py-4 text-gray-700 text-sm",children:"Buat daftar istilah status kapal resmi dan adakan pelatihan setiap bulan untuk semua petugas operasional."})]})]})]})})]})]}),N==="management"&&e.jsx(De,{})]})]})]}),e.jsx(H,{show:t,onClose:M,title:k?"Edit Data Risiko":"Tambah Data Risiko",maxWidth:"lg",children:e.jsx(Se,{risk:k,onClose:M,isEdit:!!k})}),e.jsx(H,{show:x,onClose:M,title:S?"Edit Laporan Risiko":"Tambah Laporan Risiko",maxWidth:"lg",children:e.jsx(Ae,{report:S,onClose:M,isEdit:!!S})}),e.jsx(H,{show:p,onClose:M,title:L?"Edit Assessment FMEA":"Tambah Assessment FMEA",maxWidth:"xl",children:e.jsx(_e,{assessment:L,onClose:M,isEdit:!!L})}),e.jsx(Pe,{isOpen:y,onClose:M,onConfirm:ue,isDeleting:Y,...pe()}),e.jsx(Te,{isVisible:W.isVisible,message:W.message,type:W.type,onClose:X})]})}export{$e as default};
